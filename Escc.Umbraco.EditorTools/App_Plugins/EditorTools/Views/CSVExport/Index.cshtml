@{
    Layout = "~/App_Plugins/EditorTools/Views/Shared/_Layout.cshtml";
}
@{
    ViewBag.Title = "CSV Export";
}

<link href="~/App_Plugins/EditorTools/Content/bootstrap.css" rel="stylesheet" />
<link href="~/App_Plugins/EditorTools/Content/Site.css" rel="stylesheet" />
<script src="~/App_Plugins/EditorTools/Scripts/jquery-3.1.1.js"></script>
<script src="~/App_Plugins/EditorTools/Scripts/bootstrap.js"></script>

@{
        <div class="jumbotron" id="PageLoadedJumbo">
            <h1>Export To CSV</h1>
            <p class="lead">Click Export to download a CSV file of the entire Umbraco content tree</p>
            <p><a href="/umbraco/backoffice/Plugins/CSVExport/GetFile" class="btn btn-primary btn-lg" type="button" id="ExportButton">Export <span class="glyphicon glyphicon-save" aria-hidden="true"></span></a></p>
        </div>
}

<div class="jumbotron" id="DownloadStartedJumbo">
    <h1>Downloading...</h1>
    <p class="lead">The CSV file is being generated, Please wait...</p>
    <div class="progress progress-striped active">
        <div class="progress-bar " role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
            <span class="sr-only">100% Complete</span>
        </div>
    </div>
</div>

<script>
    $('#DownloadStartedJumbo').hide();

    $('#ExportButton').on('click', function (event) {
        $('#PageLoadedJumbo').hide();
        $('#DownloadStartedJumbo').show();
    });
</script>